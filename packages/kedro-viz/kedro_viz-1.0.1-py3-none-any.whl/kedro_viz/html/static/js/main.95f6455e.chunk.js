(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,n){e.exports=n.p+"static/media/delete.74986976.svg"},196:function(e,t,n){e.exports=n(463)},343:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},461:function(e,t,n){},462:function(e,t,n){},463:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(55),o=n.n(i),s=n(16),c=n(17),u=n(22),l=n(21),d=n(14),h=n(23),p=n(9),f=n(76),m=n(25),g="CHANGE_ACTIVE_SNAPSHOT";var v="CHANGE_VIEW";var b="DELETE_SNAPSHOT";var E="RESET_SNAPSHOT_DATA";function y(e){return{type:E,snapshots:e}}var O="TOGGLE_NODE_ACTIVE";function w(e,t){return{type:O,nodeID:e,isActive:t}}var N="TOGGLE_NODE_DISABLED";var _="TOGGLE_NODES_DISABLED";var j="TOGGLE_PARAMETERS";var k="TOGGLE_TEXT_LABELS";var T="TOGGLE_TAG_ACTIVE";var S="TOGGLE_TAG_FILTER";var D="TOGGLE_THEME";var C="UPDATE_CHART_SIZE";var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object.assign({},e,{activeSnapshot:t.snapshotID});case v:return Object.assign({},e,{view:t.view});case b:if(e.onDeleteSnapshot)return e.onDeleteSnapshot(t.id),e;var n=e.snapshotIDs.filter(function(e){return e!==t.id}),a=e.activeSnapshot;return a===t.id&&(a=e.snapshotIDs[0]),Object.assign({},e,{activeSnapshot:a,snapshotIDs:n});case E:return Object.assign({},e,t.snapshots,{activeSnapshot:t.snapshots.snapshotIDs[0]});case O:return Object.assign({},e,{nodeActive:Object.assign({},e.nodeActive,Object(m.a)({},t.nodeID,t.isActive))});case N:return Object.assign({},e,{nodeDisabled:Object.assign({},e.nodeDisabled,Object(m.a)({},t.nodeID,t.isDisabled))});case _:return Object.assign({},e,{nodeDisabled:t.nodeIDs.reduce(function(e,n){return Object.assign({},e,Object(m.a)({},n,t.isDisabled))},e.nodeDisabled)});case j:var r=e.snapshotNodes[e.activeSnapshot].filter(function(t){return e.nodeName[t].includes("param")});return Object.assign({},e,{nodeDisabled:r.reduce(function(e,n){return Object.assign({},e,Object(m.a)({},n,!t.parameters))},e.nodeDisabled),parameters:t.parameters});case k:return Object.assign({},e,{textLabels:t.textLabels});case T:return Object.assign({},e,{tagActive:Object.assign({},e.tagActive,Object(m.a)({},t.tagID,t.active))});case S:return Object.assign({},e,{tagEnabled:Object.assign({},e.tagEnabled,Object(m.a)({},t.tagID,t.enabled))});case D:return Object.assign({},e,{theme:t.theme});case C:return Object.assign({},e,{chartSize:t.chartSize});default:return e}},x=function(){return{dataPath:"./logs/nodes.json",dataSource:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_DATA_SOURCE||"json",localStorageName:"KedroViz"}},L=function(e,t){var n={};return e.forEach(function(e){n[e]=t(e)}),n},I=function(e){var t=new Date(+e);return"".concat(t.toDateString()," ").concat(t.toLocaleTimeString())},z=function(e){return Array.from(Array(e).keys())},M=function(e){return Math.floor(Math.random()*e)},H=function(e){return Math.ceil(Math.random()*e)},G=function(e){return e[M(e.length)]},R="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" "),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return z(e).map(function(){return G(R)}).join(t)},B=function(e,t,n){return n.indexOf(e)===t},U=function(e){var t=x().localStorageName;try{var n=JSON.stringify(e);window.localStorage.setItem(t,n)}catch(a){console.error(a)}};var W=n(8),P=n.n(W),Y=n(75),X=n.n(Y),K=n(191),q=n.n(K),F=n(30),J=n.n(F),Z=n(114),Q=n.n(Z),$=n(77),ee=n.n($),te=n(192),ne=n.n(te),ae=(n(342),n(3)),re=function(e){return e.tagEnabled},ie=Object(ae.a)([function(e){return e.activeSnapshot},function(e){return e.snapshotTags}],function(e,t){return t[e]||[]}),oe=Object(ae.a)([ie,function(e){return e.tagName},function(e){return e.tagActive},re],function(e,t,n,a){return e.sort().map(function(e){return{id:e,name:t[e],active:Boolean(n[e]),enabled:Boolean(a[e])}})}),se=Object(ae.a)([ie,re],function(e,t){return{total:e.length,enabled:e.filter(function(e){return t[e]}).length}}),ce=(n(343),Object(p.b)(function(e){var t=oe(e);return{tagCount:se(e),tags:t,theme:e.theme}},function(e){return{onToggleTagActive:function(t,n){e(function(e,t){return{type:T,tagID:e,active:t}}(t,n))},onToggleTagFilter:function(t,n){e(function(e,t){return{type:S,tagID:e,enabled:t}}(t,n))}}})(function(e){var t=e.tagCount,n=e.onToggleTagActive,a=e.onToggleTagFilter,i=e.tags,o=e.theme;return r.a.createElement("div",{className:"pipeline-tags"},r.a.createElement(ne.a,{theme:o,width:null,defaultText:"Tag filters (".concat(t.enabled,"/").concat(t.total,")")},r.a.createElement(r.a.Fragment,null,t.total>0?r.a.createElement("ul",{className:"pipeline-tags__tag-list"},i.map(function(e){return r.a.createElement("li",{key:"tag-".concat(e.id),title:e.name,className:"pipeline-tags__tag-list-item kui-menu-option",onMouseEnter:function(){return n(e.id,!0)},onMouseLeave:function(){return n(e.id,!1)}},r.a.createElement(ee.a,{checked:e.enabled,label:r.a.createElement("span",null,e.name),name:e.id,onChange:function(t,n){var r=n.checked;return a(e.id,r)},theme:o}))})):r.a.createElement("div",{className:"pipeline-tags__empty kui-menu-option"},"There are no tags used in this pipeline."))))})),ue=n(29),le=n(193),de=n.n(le),he=n(43),pe=n.n(he),fe=n(44),me=function(e){return e.nodeName},ge=function(e){return e.nodeDisabled},ve=function(e){return e.nodeTags},be=function(e){return e.nodeType},Ee=Object(ae.a)([function(e){return e.activeSnapshot},function(e){return e.snapshotNodes}],function(e,t){return t[e]||[]}),ye=Object(ae.a)([Ee,function(e){return e.tagEnabled},se,ve],function(e,t,n,a){return L(e,function(e){return 0!==n.enabled&&(!a[e].length||!a[e].some(function(e){return t[e]}))})}),Oe=Object(ae.a)([Ee,be,function(e){return e.view}],function(e,t,n){return L(e,function(e){return"combined"!==n&&n!==t[e]})}),we=Object(ae.a)([Ee,ge,ye,Oe],function(e,t,n,a){return L(e,function(e){return Boolean(t[e]||n[e]||a[e])})}),Ne=Object(ae.a)([Ee,function(e){return e.nodeActive},ve,function(e){return e.tagActive}],function(e,t,n,a){return L(e,function(e){var r=t[e],i=n[e].some(function(e){return a[e]});return Boolean(r||i)})}),_e=Object(ae.a)([Ee,me,be,Ne,we,ge,ye,Oe],function(e,t,n,a,r,i,o,s){return e.sort().map(function(e){return{id:e,name:t[e],type:n[e],active:a[e],disabled:r[e],disabled_node:Boolean(i[e]),disabled_tag:o[e],disabled_view:s[e]}})}),je=Object(ae.a)([Ee,me,be,we],function(e,t,n,a){return e.filter(function(e){return!a[e]}).map(function(e){return{id:e,name:t[e],type:n[e],disabled:a[e]}})}),ke=(n(372),pe.a.escapeRegExp),Te=pe.a.getHighlightedText,Se=pe.a.handleKeyEvent,De=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={searchValue:""},n.handleKeyDown=n.handleKeyDown.bind(Object(d.a)(n)),n.updateSearchValue=n.updateSearchValue.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"highlightMatch",value:function(e){var t=this;return e.map(function(e){return Object(ue.a)({highlightedLabel:Te(e.name,t.state.searchValue)},e)})}},{key:"nodeMatchesSearch",value:function(e,t){var n=t?new RegExp(ke(t),"gi"):"";return e.name.match(n)}},{key:"filterResults",value:function(e){var t=this;return e.filter(function(e){return t.nodeMatchesSearch(e,t.state.searchValue)})}},{key:"handleKeyDown",value:function(e){Se(e.keyCode,{escape:this.updateSearchValue.bind(this,"")})}},{key:"updateSearchValue",value:function(e){this.setState({searchValue:e})}},{key:"render",value:function(){var e=this.props,t=e.onToggleAllNodes,n=e.onToggleNodeActive,a=e.onToggleNodeDisabled,i=e.nodes,o=e.theme,s=this.state.searchValue,c=this.highlightMatch(this.filterResults(i));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pipeline-node-list-search",onKeyDown:this.handleKeyDown},r.a.createElement(de.a,{onChange:this.updateSearchValue,value:s,theme:o})),r.a.createElement(fe.Scrollbars,{className:"pipeline-node-list-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0},r.a.createElement("div",{className:"kedro"},r.a.createElement("h2",{className:"pipeline-node-list__toggle-title"},"All Elements"),r.a.createElement("div",{className:"pipeline-node-list__toggle-container"},r.a.createElement("button",{onClick:function(){return t(c,!1)},className:"pipeline-node-list__toggle"},r.a.createElement("svg",{className:"pipeline-node-list__icon pipeline-node-list__icon--check",width:"24",height:"24"},r.a.createElement("polygon",{points:"9.923 14.362 7.385 11.944 6 13.263 7.33384369 14.5336026 9.923 17 18 9.32 16.615 8"})),"Check all"),r.a.createElement("button",{onClick:function(){return t(c,!0)},className:"pipeline-node-list__toggle"},r.a.createElement("svg",{className:"pipeline-node-list__icon pipeline-node-list__icon--uncheck",width:"24",height:"24"},r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),"Uncheck all"))),r.a.createElement("ul",{className:"pipeline-node-list"},c.map(function(e){return r.a.createElement("li",{key:e.id,className:P()("pipeline-node",{"pipeline-node--active":e.active,"pipeline-node--disabled":e.disabled_tag||e.disabled_view}),title:e.name,onMouseEnter:function(){return n(e,!0)},onMouseLeave:function(){return n(e,!1)}},r.a.createElement(ee.a,{checked:!e.disabled_node,label:r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.highlightedLabel}}),name:e.name,onChange:function(t,n){var r=n.checked;return a(e,!r)},theme:o}))}))))}}]),t}(r.a.Component),Ce=Object(p.b)(function(e){return{nodes:_e(e),theme:e.theme}},function(e){return{onToggleNodeActive:function(t,n){e(w(t.id,n))},onToggleNodeDisabled:function(t,n){e(function(e,t){return{type:N,nodeID:e,isDisabled:t}}(t.id,n))},onToggleAllNodes:function(t,n){var a;e((a=t.map(function(e){return e.id}),{type:_,nodeIDs:a,isDisabled:n}))}}})(De),Ae=(n(373),Object(p.b)(function(e){return{hasData:Boolean(e.snapshotIDs.length),parameters:e.parameters,textLabels:e.textLabels,theme:e.theme,view:e.view}},function(e){return{onChangeView:function(t,n){var a=n.value;e({type:v,view:a})},onToggleParameters:function(t,n){var a=n.value;e({type:j,parameters:a})},onToggleTextLabels:function(t,n){var a,r=n.value;e((a=Boolean(r),{type:k,textLabels:a}))},onToggleTheme:function(t,n){var a=n.value;e({type:D,theme:a})}}})(function(e){var t=e.hasData,n=e.onToggleParameters,a=e.onToggleTextLabels,i=e.onToggleTheme,o=e.onChangeView,s=e.parameters,c=e.textLabels,u=e.theme,l=e.view;return t?r.a.createElement(fe.Scrollbars,{autoHide:!0,hideTracksWhenNotNeeded:!0},r.a.createElement("div",{className:"pipeline-ui"},r.a.createElement("ul",{className:"pipeline-ui__view"},r.a.createElement("li",null,r.a.createElement(J.a,{checked:"combined"===l,label:"Combined",name:"view",onChange:o,value:"combined",theme:u})),r.a.createElement("li",null,r.a.createElement(J.a,{checked:"data"===l,label:"Data",name:"view",onChange:o,value:"data",theme:u})),r.a.createElement("li",null,r.a.createElement(J.a,{checked:"task"===l,label:"Node",name:"view",onChange:o,value:"task",theme:u}))),r.a.createElement(Q.a,{onChange:a,label:"Labels",value:c,checked:c,theme:u}),r.a.createElement(Q.a,{onChange:n,label:"Parameters",value:s,checked:s,theme:u}),r.a.createElement("ul",{className:"pipeline-ui__view"},r.a.createElement("li",null,r.a.createElement(J.a,{checked:"dark"===u,label:"Dark theme",name:"theme",onChange:i,value:"dark",theme:u})),r.a.createElement("li",null,r.a.createElement(J.a,{checked:"light"===u,label:"Light theme",name:"theme",onChange:i,value:"light",theme:u}))),r.a.createElement(ce,null),r.a.createElement(Ce,null))):null})),xe=function(e){return e.activeSnapshot},Le=function(e){return e.snapshotMessage},Ie=function(e){return e.snapshotTimestamp},ze=Object(ae.a)([function(e){return e.snapshotIDs},Le,Ie],function(e,t,n){return e.map(function(e){return{id:e,message:t[e],timestamp:n[e]}})}),Me=Object(ae.a)([xe,Le],function(e,t){return t[e]}),He=Object(ae.a)([xe,Ie],function(e,t){return t[e]}),Ge=(Object(ae.a)([xe,function(e){return e.snapshotSchema}],function(e,t){return JSON.stringify(t[e])}),n(194)),Re=n.n(Ge),Ve=(n(374),Object(p.b)(function(e){return{activeSnapshot:e.activeSnapshot,allowHistoryDeletion:e.allowHistoryDeletion,snapshots:ze(e),theme:e.theme}},function(e){return{onChangeActiveSnapshot:function(t){return e((n=t.id,{type:g,snapshotID:n}));var n},onDeleteSnapshot:function(t){return e((n=t.id,{type:b,id:n}));var n}}})(function(e){var t=e.activeSnapshot,n=e.allowHistoryDeletion,a=e.onChangeActiveSnapshot,i=e.onDeleteSnapshot,o=e.snapshots,s=e.theme,c=function(e){return t===e.id};return r.a.createElement(fe.Scrollbars,{autoHide:!0,hideTracksWhenNotNeeded:!0},r.a.createElement("ul",{className:"pipeline-history"},o.map(function(e){return r.a.createElement("li",{className:P()("pipeline-history__row",{"pipeline-history__row--active":c(e)}),key:e.id},r.a.createElement(J.a,{checked:c(e),label:r.a.createElement("span",{className:"pipeline-history__label"},r.a.createElement("b",null,e.message)," ",r.a.createElement("span",null,I(+e.timestamp))),name:"history",onChange:function(){return a(e)},value:e.id,theme:s}),n&&r.a.createElement("button",{className:"pipeline-history__delete",title:"Delete snapshot","aria-label":"Delete snapshot",onClick:function(){return i(e)}},r.a.createElement("img",{src:Re.a,width:"24",height:"24",alt:"Delete icon"})))})))})),Be=(n(375),[{text:"Options",href:"#options",content:Ae},{text:"Snapshots",href:"#snapshots",content:Ve}]),Ue=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={selectedIndex:0},n.selectedTabChanged=n.selectedTabChanged.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"selectedTabChanged",value:function(e,t){var n=this,a=t.selectedIndex,r=t.href;this.setState({selectedIndex:a},function(){n.tabs.querySelector(r).focus()})}},{key:"render",value:function(){var e=this,t=this.state.selectedIndex;return this.props.showHistory?r.a.createElement("div",{className:"pipeline-tabs",ref:function(t){e.tabs=t}},r.a.createElement(q.a,{onSelect:this.selectedTabChanged,selectedIndex:t,size:"small",tabs:Be,theme:"light"}),Be.map(function(e,n){return r.a.createElement("div",{className:"pipeline-tabs_tab","aria-labelledby":"tab-".concat(e.text.toLowerCase()),hidden:t!==n,id:e.text.toLowerCase(),key:e.text,style:{display:t===n?"block":"none"},tabIndex:"-1"},r.a.createElement(e.content,null))})):r.a.createElement("div",{className:"pipeline-tabs"},r.a.createElement("div",{className:"pipeline-tabs_tab"},r.a.createElement(Ae,null)))}}]),t}(r.a.Component),We=Object(p.b)(function(e){return{showHistory:e.showHistory}})(Ue),Pe=(n(56),n(2)),Ye=n(116),Xe=n(117),Ke=n(115),qe=n.n(Ke),Fe=function(e){return e.edgeSources},Je=function(e){return e.edgeTargets},Ze=Object(ae.a)([function(e){return e.activeSnapshot},function(e){return e.snapshotEdges}],function(e,t){return t[e]||[]}),Qe=Object(ae.a)([Ze,we,Fe,Je],function(e,t,n,a){return L(e,function(e){var r=n[e],i=a[e];return t[r]||t[i]})}),$e=Object(ae.a)([Ze,function(e){return e.nodeType},function(e){return e.view},Fe,Je],function(e,t,n,a,r){return L(e,function(e){var i=a[e],o=t[i],s=r[e],c=t[s];return"combined"===n?o===c:n!==o||n!==c})}),et=Object(ae.a)([Ze,Qe,$e],function(e,t,n){return L(e,function(e){return Boolean(t[e]||n[e])})}),tt=Object(ae.a)([Ze,et,Fe,Je],function(e,t,n,a){return e.map(function(e){return{id:e,disabled:t[e],source:n[e],target:a[e]}})}),nt=Object(ae.a)([tt],function(e){return e.filter(function(e){return!e.disabled})}),at=function(e,t,n){if(!n)return t;var a=n.append("text").text(e),r=a.node(),i=r?r.getBBox().width:0;return a.remove(),i+t},rt=Object(ae.a)([je,nt,function(e){return e.textLabels}],function(e,t,n){var a=(new qe.a.graphlib.Graph).setGraph({marginx:40,marginy:40}),r=function(e){if(e)return Object(Pe.f)("body").append("svg").attr("class","kedro node")}(n);return e.forEach(function(e){a.setNode(e.id,Object(ue.a)({},e,function(e,t){var n=40;return t||"task"!==e.type||(n=50),{height:n,width:at(e.name,n,t)}}(e,r),{label:e.name}))}),t.forEach(function(e){a.setEdge(e.source,e.target,e)}),qe.a.layout(a),r&&r.remove(),a}),it=Object(ae.a)([rt,function(e){return e.nodeType},Ne],function(e,t,n){return{nodes:e.nodes().map(function(a){return Object.assign({},e.node(a),{type:t[a],active:n[a]})}),edges:e.edges().map(function(t){return e.edge(t)})}}),ot=Object(ae.a)([rt,function(e){return e.chartSize}],function(e,t){var n=e.graph();if([t.width,t.height,n.width,n.height].every(function(e){return!isNaN(e)&&Number.isFinite(e)})){var a=Math.min(t.width/n.width,t.height/n.height);return{scale:a,translateX:t.width/2-n.width*a/2,translateY:t.height/2-n.height*a/2}}return{scale:1,translateX:0,translateY:0}}),st={show:function(e){var t=e.edges,n=e.el,a=e.nodeID,r=function(e,t){var n=[];return function t(a){e.filter(function(e){return e.target===a}).forEach(function(e){n.push(e.source),t(e.source)})}(t),function t(a){e.filter(function(e){return e.source===a}).forEach(function(e){n.push(e.target),t(e.target)})}(t),n}(t,a),i=function(e){return r.includes(e)||a===e};n.nodes.classed("node--active",function(e){return i(e.id)}).classed("node--faded",function(e){return!i(e.id)}),n.edges.classed("edge--faded",function(e){return[e.source,e.target].some(function(e){return!i(e)})})},hide:function(e){var t=e.edges,n=e.nodes;t.classed("edge--faded",!1),n.classed("node--active",!1).classed("node--faded",!1)}},ct={data:"0 0 58.2 58.2",task:"0 0 268.76 268.76"},ut={data:["M31.7 33.07a84.08 84.08 0 0 1-5.21 0c-7.34-.2-13.2-1.24-17.4-2.72A20.44 20.44 0 0 1 4.1 28V37.4c2.85 2.97 12.4 5.71 25 5.71s22.15-2.74 25-5.71V28c-1.32.9-3.03 1.7-5.03 2.37-4.2 1.47-10.04 2.5-17.36 2.7z","M4.1 14.89V24.29c2.64 2.75 11.03 5.3 22.29 5.67h.35l.98.03a79.02 79.02 0 0 0 2.76 0l.99-.02.34-.01c11.26-.36 19.65-2.92 22.29-5.67v-9.4C49.23 18.23 38.94 20 29.1 20s-20.13-1.77-25-5.11z","M53.97 8.54C52.84 4.24 44.22 0 29.1 0 14.02 0 5.4 4.22 4.25 8.51A.97.97 0 0 0 4.1 9v2.3c2.84 2.97 12.32 5.7 25 5.7s22.16-2.73 25-5.7V9a.92.92 0 0 0-.13-.46zM4.1 41v8.2c0 .16.04.32.12.45 1.18 4.9 11.74 8.55 24.88 8.55 13.1 0 23.65-3.64 24.87-8.52a1 1 0 0 0 .13-.48V41c-4.14 2.91-12.66 5.2-25 5.2-12.35 0-20.87-2.29-25-5.2z"],task:["M267.92 119.46c-.42-3.78-4.83-6.62-8.64-6.62-12.31 0-23.24-7.23-27.82-18.41a29.93 29.93 0 0 1 7.51-33.23 7.46 7.46 0 0 0 .82-10.13c-6.3-8-13.47-15.24-21.3-21.5a7.48 7.48 0 0 0-10.2.82c-8.01 8.87-22.4 12.17-33.52 7.53a29.85 29.85 0 0 1-18.15-29.18 7.46 7.46 0 0 0-6.6-7.85A134.16 134.16 0 0 0 119.8.81a7.48 7.48 0 0 0-6.65 7.7 29.9 29.9 0 0 1-18.4 28.67c-10.99 4.48-25.28 1.21-33.27-7.58a7.5 7.5 0 0 0-10.14-.85 133.48 133.48 0 0 0-21.74 21.5 7.48 7.48 0 0 0 .8 10.2A29.78 29.78 0 0 1 37.9 94c-4.63 11.04-16.1 18.16-29.24 18.16a7.3 7.3 0 0 0-7.76 6.6 134.62 134.62 0 0 0-.06 30.56c.43 3.8 4.97 6.6 8.82 6.6 11.7-.3 22.93 6.95 27.65 18.42a29.88 29.88 0 0 1-7.52 33.23 7.47 7.47 0 0 0-.81 10.13 133.46 133.46 0 0 0 21.25 21.5 7.47 7.47 0 0 0 10.23-.8c8.04-8.9 22.43-12.19 33.5-7.54a29.8 29.8 0 0 1 18.18 29.17 7.46 7.46 0 0 0 6.6 7.85 133.57 133.57 0 0 0 30.23.08 7.48 7.48 0 0 0 6.66-7.7A29.87 29.87 0 0 1 174 231.6c11.06-4.51 25.29-1.2 33.28 7.58a7.5 7.5 0 0 0 10.14.84 133.79 133.79 0 0 0 21.74-21.49 7.46 7.46 0 0 0-.8-10.21 29.78 29.78 0 0 1-7.53-33.53 30.09 30.09 0 0 1 27.5-18.21l1.66.04a7.48 7.48 0 0 0 7.86-6.59 134.5 134.5 0 0 0 .06-30.56zM134.59 179.5a44.87 44.87 0 0 1-44.82-44.82 44.87 44.87 0 0 1 44.83-44.83 44.87 44.87 0 0 1 44.82 44.83 44.87 44.87 0 0 1-44.82 44.82z"]},lt=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n={data:17,task:18}[e.type],a=Object(Pe.f)(t).attr("class","node__icon").attr("viewBox",ct[e.type]).attr("width",n).attr("height",n).attr("x",n/-2).attr("y",n/-2).append("g").attr("class","node__icon__fill");return ut[e.type].forEach(function(e){a.append("path").attr("d",e)}),t},dt=(n(457),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={tooltipVisible:!1,tooltipIsRight:!1,tooltipText:null,tooltipX:0,tooltipY:0},n.handleWindowResize=n.handleWindowResize.bind(Object(d.a)(n)),n.handleNodeMouseOver=n.handleNodeMouseOver.bind(Object(d.a)(n)),n.handleNodeMouseOut=n.handleNodeMouseOut.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.el={svg:Object(Pe.f)(this._svg),inner:Object(Pe.f)(this._gInner),wrapper:Object(Pe.f)(this._gWrapper),edgeGroup:Object(Pe.f)(this._gEdges),nodeGroup:Object(Pe.f)(this._gNodes)},this.updateChartSize(),this.initZoomBehaviour(),this.drawChart(),this.zoomChart(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){e.visibleNav!==this.props.visibleNav&&this.updateChartSize(),e.zoom!==this.props.zoom&&this.zoomChart(),this.drawChart()}},{key:"updateChartSize",value:function(){var e=this._container.getBoundingClientRect(),t=e.left,n=e.top,a=e.width,r=e.height,i=this.getNavOffset(a);this.props.onUpdateChartSize({x:t,y:n,outerWidth:a,outerHeight:r,width:a-i,height:r,navOffset:i})}},{key:"getNavOffset",value:function(e){var t=e>480?300:0;return this.props.visibleNav?t:0}},{key:"handleWindowResize",value:function(){this.updateChartSize()}},{key:"initZoomBehaviour",value:function(){var e=this;this.zoomBehaviour=Object(Xe.a)().on("zoom",function(){e.el.inner.attr("transform",Pe.b.transform),e.hideTooltip()}),this.el.svg.call(this.zoomBehaviour)}},{key:"zoomChart",value:function(){var e=this.props.zoom,t=e.scale,n=e.translateX,a=e.translateY;this.el.svg.transition().duration(700).call(this.zoomBehaviour.transform,Xe.b.translate(n,a).scale(t))}},{key:"drawChart",value:function(){var e=this.props,t=e.chartSize,n=e.layout,a=e.textLabels,r=n.nodes,i=n.edges,o=this.getNavOffset(t.outerWidth);this.el.svg.attr("width",t.outerWidth).attr("height",t.outerHeight),this.el.wrapper.transition("wrapper-navoffset").duration(700).attr("transform",function(){return"translate(".concat(o,", 0)")}),this.el.edges=this.el.edgeGroup.selectAll(".edge").data(i,function(e){return e.id}),this.el.nodes=this.el.nodeGroup.selectAll(".node").data(r,function(e){return e.id});var s=Object(Ye.b)().x(function(e){return e.x}).y(function(e){return e.y}).curve(Ye.a),c=this.el.edges.enter().append("g").attr("class","edge").attr("opacity",0);c.append("path").attr("marker-end",function(e){return"url(#arrowhead)"}),this.el.edges.exit().transition("exit-edges").duration(700).attr("opacity",0).remove(),this.el.edges=this.el.edges.merge(c),this.el.edges.transition("show-edges").duration(700).attr("opacity",1),this.el.edges.select("path").transition("update-edges").duration(700).attr("d",function(e){return e.points&&s(e.points)});var u=this.el.nodes.enter().append("g").attr("class","node");u.attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}).attr("opacity",0),u.append("circle").attr("r",25),u.append("rect"),u.append(lt),u.append("text").text(function(e){return e.name}).attr("text-anchor","middle").attr("dy",4),this.el.nodes.exit().transition("exit-nodes").duration(700).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(u).classed("node--data",function(e){return"data"===e.type}).classed("node--task",function(e){return"task"===e.type}).classed("node--icon",!a).classed("node--text",a).classed("node--active",function(e){return e.active}).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut),this.el.nodes.transition("update-nodes").duration(700).attr("opacity",1).attr("transform",function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}),this.el.nodes.select("rect").attr("width",function(e){return e.width-5}).attr("height",function(e){return e.height-5}).attr("x",function(e){return(e.width-5)/-2}).attr("y",function(e){return(e.height-5)/-2}).attr("rx",function(e){return"data"===e.type?e.height/2:0})}},{key:"handleNodeMouseOver",value:function(e){var t=this.props,n=t.layout;(0,t.onToggleNodeActive)(e,!0),this.showTooltip(e),st.show(Object(ue.a)({el:this.el,nodeID:e.id},n))}},{key:"handleNodeMouseOut",value:function(e){this.props.onToggleNodeActive(e,!1),st.hide(this.el),this.hideTooltip()}},{key:"showTooltip",value:function(e){var t=this.props.chartSize,n=Pe.b.target.getBoundingClientRect(),a=this.getNavOffset(t.outerWidth),r=n.left-a>t.width/2,i=r?n.left-(t.width+a):n.left;this.setState({tooltipVisible:!0,tooltipIsRight:r,tooltipText:e.name,tooltipX:i-t.x+n.width/2,tooltipY:n.top-t.y})}},{key:"hideTooltip",value:function(){this.state.tooltipVisible&&this.setState({tooltipVisible:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.tooltipVisible,a=t.tooltipIsRight,i=t.tooltipText,o=t.tooltipX,s=t.tooltipY;return r.a.createElement("div",{className:"pipeline-flowchart kedro",ref:function(t){return e._container=t}},r.a.createElement("svg",{className:"pipeline-flowchart__graph",ref:function(t){return e._svg=t}},r.a.createElement("defs",null,r.a.createElement("marker",{id:"arrowhead",className:"pipeline-flowchart__arrowhead",viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"}))),r.a.createElement("g",{ref:function(t){return e._gWrapper=t}},r.a.createElement("g",{ref:function(t){return e._gInner=t}},r.a.createElement("g",{className:"pipeline-flowchart__edges",ref:function(t){return e._gEdges=t}}),r.a.createElement("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:function(t){return e._gNodes=t}})))),r.a.createElement("div",{className:P()("pipeline-flowchart__tooltip kedro",{"tooltip--visible":n,"tooltip--right":a}),style:{transform:"translate(".concat(o,"px, ").concat(s,"px)")}},r.a.createElement("span",null,i)))}}]),t}(a.Component)),ht=Object(p.b)(function(e){return{activeSnapshot:e.activeSnapshot,chartSize:e.chartSize,layout:it(e),textLabels:e.textLabels,view:e.view,zoom:ot(e)}},function(e){return{onToggleNodeActive:function(t,n){e(w(t.id,n))},onUpdateChartSize:function(t){e(function(e){return{type:C,chartSize:e}}(t))}}})(dt),pt=(n(458),Object(p.b)(function(e){var t=Me(e);return{message:t,showDescription:t&&e.showHistory,timestamp:He(e)}})(function(e){var t=e.message,n=e.showDescription,a=e.timestamp,i=e.visibleNav;return n?r.a.createElement("div",{className:P()("snapshot-description kedro",{"snapshot-description--menu-visible":i})},r.a.createElement("p",null,"Uploaded on: ",r.a.createElement("b",null,I(a))),r.a.createElement("p",null,"Title: ",r.a.createElement("b",null,t))):null})),ft=(n(459),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={visibleNav:!0},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"toggleNav",value:function(){var e=!this.state.visibleNav;this.setState({visibleNav:e})}},{key:"render",value:function(){var e=this.state.visibleNav,t=this.props,n=t.theme,a=t.showHistory;return r.a.createElement("div",{className:P()("kedro-pipeline",{"kui-theme--dark":"dark"===n,"kui-theme--light":"light"===n})},r.a.createElement(pt,{visibleNav:e}),r.a.createElement("div",{className:"pipeline-wrapper"},r.a.createElement(ht,{visibleNav:e})),r.a.createElement("button",{"aria-label":"Show menu",className:"pipeline-sidebar__show-menu pipeline-icon-button",onClick:this.toggleNav.bind(this)},r.a.createElement("svg",{className:"menu-icon",viewBox:"0 0 24 24"},r.a.createElement("rect",{x:"2",y:"5",width:"20",height:"2"}),r.a.createElement("rect",{x:"2",y:"11",width:"20",height:"2"}),r.a.createElement("rect",{x:"2",y:"17",width:"20",height:"2"}))),r.a.createElement("nav",{className:P()("pipeline-sidebar",{"pipeline-sidebar--visible":e})},r.a.createElement("button",{"aria-label":"Hide menu",className:P()("pipeline-sidebar__hide-menu pipeline-icon-button",{"pipeline-sidebar__hide-menu--offset":!a,"pipeline-sidebar__hide-menu--visible":e}),onClick:this.toggleNav.bind(this)},r.a.createElement(X.a,{type:"close",title:"Close",theme:n})),r.a.createElement(We,null)))}}]),t}(a.Component)),mt=Object(p.b)(function(e){return{showHistory:e.showHistory,theme:e.theme}})(ft),gt=function(e,t,n){return"".concat(e,"/").concat(t,"-").concat(n)},vt=function(e){if(!Array.isArray(e))return{};var t=[],n={},a={},r={},i={},o={},s={},c={},u={},l={},d={},h={},p={},f={},m=function(e,t){i[e]=[],o[e]=[],s[e]=[];var n=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=gt(e,t,n);u[o]||(i[e].push(o),c[o]=t,u[o]=t.replace(/_/g," "),l[o]=n,d[o]||(d[o]=[]),a.forEach(function(e){return r(e,o)}))},a=function(t,n){var a=function(e,t,n){return[t,n].map(function(t){return gt(e,t.name,t.type)}).join("|")}(e,t,n);o[e].includes(a)||(o[e].push(a),h[a]=gt(e,t.name,t.type),p[a]=gt(e,n.name,n.type))},r=function(t,n){var a=function(e,t){return"".concat(e,"/").concat(t)}(e,t);d[n].includes(a)||d[n].push(a),f[a]||(s[e].push(a),f[a]=t.replace(/_/g," "))},m=function(e,t){d[e]=d[e].concat(d[t]).filter(function(e,t,n){return n.indexOf(e)===t})};(function(e){var t=Array.isArray;return t(e)&&e.every(function(e){return t(e.inputs)&&t(e.outputs)&&"string"===typeof e.name})})(t)&&(t.forEach(function(e){!function(e){n(e.name,"task",e.tags),e.inputs.forEach(function(e){return n(e,"data")}),e.outputs.forEach(function(e){return n(e,"data")})}(e),function(e){var t=e.name,n=e.inputs,r=e.outputs;n.forEach(function(e){a({name:e,type:"data"},{name:t,type:"task"}),r.forEach(function(t){a({name:e,type:"data"},{name:t,type:"data"})})}),r.forEach(function(e){a({name:t,type:"task"},{name:e,type:"data"})})}(e)}),o[e].forEach(function(t){var n={source:h[t],target:p[t]};!function(e){var t=e.source,n=e.target;l[t]!==l[n]&&("task"===l[t]?m(n,t):m(t,n))}(n),"task"===l[n.source]&&o[e].forEach(function(e){var t=h[e],r=p[e];"task"===l[r]&&t===n.target&&a({name:c[n.source],type:"task"},{name:c[r],type:"task"})})}),i[e].forEach(function(t){d[t].forEach(function(t){s[e]||(s[e]=[]),s[e].includes(t)||s[e].push(t)})}))};return e.forEach(function(e){var i=String(e.schema_id);t.push(i),n[i]=e.json_schema,r[i]=Number(e.created_ts),a[i]=e.message,m(i,e.json_schema)}),{snapshotIDs:t.sort(function(e,t){return r[t]-r[e]}),snapshotSchema:n,snapshotMessage:a,snapshotTimestamp:r,snapshotNodes:i,snapshotEdges:o,snapshotTags:s,nodeName:u,nodeActive:{},nodeDisabled:{},nodeType:l,nodeTags:d,edgeActive:{},edgeSources:h,edgeTargets:p,edgeDisabled:{},tagName:f,tagActive:{},tagEnabled:{}}},bt=n(195),Et=4,yt=20,Ot=20,wt=function(){function e(){Object(s.a)(this,e),this.CONNECTION_COUNT=H(Et),this.LAYER_COUNT=H(yt),this.TAG_COUNT=H(Ot),this.nodes=this.getNodes(),this.tags=this.generateTags()}return Object(c.a)(e,[{key:"getRandomNodeName",value:function(e){var t=V(H(10));return(Math.random()<e?"parameters_":"")+t}},{key:"generateNodeList",value:function(e,t,n){var a=this;return z(e).map(function(){return a.getRandomNodeName(n)}).filter(B).map(function(e){return{id:e,layer:t()}})}},{key:"getNodes",value:function(){var e=this;return{data:this.generateNodeList(30,function(){return M(e.LAYER_COUNT+1)},.05),task:this.generateNodeList(10,function(){return M(e.LAYER_COUNT)+.5},0)}}},{key:"generateTags",value:function(){return z(this.TAG_COUNT).map(function(){return V(H(5))}).filter(B)}},{key:"getRandomTags",value:function(){var e=this;return z(H(this.TAG_COUNT)).map(function(){return e.tags[M(e.tags.length)]}).filter(B)}},{key:"getConnectedNodes",value:function(e){var t=this;return z(this.CONNECTION_COUNT).map(function(){return function(e,t){return G(e.filter(t))}(t.nodes.data,e)}).filter(Boolean).map(function(e){return e.id}).filter(B)}},{key:"getSchema",value:function(){var e=this;return this.nodes.task.map(function(t){return{inputs:e.getConnectedNodes(function(e){return e.layer<t.layer}),name:t.id,tags:e.getRandomTags(),outputs:e.getConnectedNodes(function(e){return e.layer>t.layer})}})}},{key:"getDatum",value:function(){return{schema_id:H(999999999999999),message:V(H(15)," "),created_ts:(new Date).getTime()-H(9999999999),json_schema:this.getSchema()}}}]),e}(),Nt=function(){return z(H(40)).map(function(){return(new wt).getDatum()}).sort(function(e,t){return t.created_ts-e.created_ts})},_t=function(e,t){var n=t.allowHistoryDeletion,a=t.onDeleteSnapshot,r=t.showHistory,i=function(){var e=x().localStorageName;try{var t=window.localStorage.getItem(e);return null===t?{}:JSON.parse(t)}catch(n){return console.error(n),{}}}(),o=i.parameters,s=void 0===o||o,c=i.textLabels,u=void 0!==c&&c,l=i.theme,d=void 0===l?"dark":l,h=i.view,p=void 0===h?"combined":h;return Object(ue.a)({},e,{activeSnapshot:e.snapshotIDs[0],allowHistoryDeletion:n,chartSize:{},onDeleteSnapshot:a,parameters:s,showHistory:r,textLabels:u,view:p,theme:d})},jt=function(e,t){switch(e){case"random":return vt(Nt());case"json":return kt().then(t),vt([]);case null:throw new Error("No data was provided to App component via props");default:return vt(e)}},kt=function(){var e=x().dataPath;return Object(bt.a)(e).then(function(e){return vt([{json_schema:e}])}).catch(function(){throw new Error("Unable to load pipeline data. Please check that you have placed a file at ".concat(e))})},Tt=(n(460),n(461),function(e){function t(e){var n;Object(s.a)(this,t),n=Object(u.a)(this,Object(l.a)(t).call(this,e));var a=jt(e.data,n.resetStoreData.bind(Object(d.a)(n))),r=_t(a,e);return n.store=function(e){var t=Object(f.b)(A,e);return t.subscribe(function(){var e=t.getState(),n=e.parameters,a=e.textLabels,r=e.theme,i=e.view;U({parameters:n,textLabels:a,theme:r,view:i})}),t}(r),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.dataWasUpdated(e.data,this.props.data)&&this.store.dispatch(y(vt(this.props.data)))}},{key:"dataWasUpdated",value:function(e,t){var n=function(e){return Array.isArray(e)&&e.map(function(e){return e.schema_id}).join("")};return n(e)!==n(t)}},{key:"resetStoreData",value:function(e){this.store.dispatch(y(e))}},{key:"render",value:function(){return this.props.data?r.a.createElement(p.a,{store:this.store},r.a.createElement(mt,null)):null}}]),t}(r.a.Component));Tt.defaultProps={data:null,showHistory:!1,allowHistoryDeletion:!1,onDeleteSnapshot:null};var St=Tt,Dt=(n(462),x().dataSource),Ct="random"===Dt;o.a.render(r.a.createElement(St,{allowHistoryDeletion:Ct,data:Dt,showHistory:Ct}),document.getElementById("root"))}},[[196,1,2]]]);
//# sourceMappingURL=main.95f6455e.chunk.js.map