<div class="expandable-fieldset">
    <label for="toggle_id_{{ field.name }}">{{ label }}</label>
    <button type="button" id="toggle_id_{{ field.name }}" aria-controls="id_{{ field.name }}-container" class="filter-collapse {{ open|yesno:',checked' }}" alt="{{ alt }}"></button>
    <div class="{{ field.css_classes }}" id="id_{{ field.name }}-container" aria-expanded="false">
        {{field}}
    </div>
</div>

{% block body_js %}
<script type="text/javascript">

  function handleExpandableOptions(event) {
    var element = event.target;
    element.classList.toggle('checked');
    var formGroup = document.getElementById(element.getAttribute('aria-controls'));
    formGroup.setAttribute('aria-expanded', !(formGroup.getAttribute('aria-expanded') == 'true'));
  }
  var elements = document.getElementsByClassName('filter-collapse');
  for (var i = 0; i < elements.length; i++) {
    elements[i].addEventListener('click', handleExpandableOptions);
  }
</script>
{% endblock %}