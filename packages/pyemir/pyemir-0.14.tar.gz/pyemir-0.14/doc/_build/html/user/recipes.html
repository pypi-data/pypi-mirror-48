<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>EMIR Reduction Recipes &#8212; PyEmir 0.9.dev1 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.dev1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="EMIR Data Products" href="products.html" />
    <link rel="prev" title="Running the pipeline" href="running.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="products.html" title="EMIR Data Products"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running the pipeline"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyEmir 0.9.dev1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">PyEmir User Guide</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="emir-reduction-recipes">
<h1>EMIR Reduction Recipes<a class="headerlink" href="#emir-reduction-recipes" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Sergio Pascual &lt;<a class="reference external" href="mailto:sergiopr&#37;&#52;&#48;fis&#46;ucm&#46;es">sergiopr<span>&#64;</span>fis<span>&#46;</span>ucm<span>&#46;</span>es</a>&gt;, Nicolás Cardiel &lt;<a class="reference external" href="mailto:cardiel&#37;&#52;&#48;fis&#46;ucm&#46;es">cardiel<span>&#64;</span>fis<span>&#46;</span>ucm<span>&#46;</span>es</a>&gt;</td>
</tr>
<tr class="field-even field"><th class="field-name">date:</th><td class="field-body">2012-03-02</td>
</tr>
<tr class="field-odd field"><th class="field-name">version:</th><td class="field-body">1</td>
</tr>
</tbody>
</table>
<div class="section" id="execution-environment-of-the-recipes">
<h2>Execution environment of the Recipes<a class="headerlink" href="#execution-environment-of-the-recipes" title="Permalink to this headline">¶</a></h2>
<p>Recipes have different execution environments. Some recipes are designed to
process observing modes required while observing at the telescope. These modes
are related to visualization, acquisition and focusing. The corresponding
Recipes are integrated in the GTC environment. We call these recipes the <strong>Data
Factory Pipeline</strong>, (DFP).</p>
<p>Other group of recipes are devoted to scientific observing modes: imaging, spectroscopy and auxiliary calibrations.
These Recipes constitute the
<strong>Data Reduction Pipeline</strong>, (DRP). The software is meant to be standalone,
users shall download the software and run it in their own computers, with
reduction parameters and calibrations provided by the instrument team.</p>
<p>Users of the DRP may use the simple Numina CLI (Command Line Interface) or the
higher level, database-driven Pontifex. Users of the DFP shall interact with
the software through the GTC Inspector.</p>
</div>
<div class="section" id="recipe-parameters">
<h2>Recipe Parameters<a class="headerlink" href="#recipe-parameters" title="Permalink to this headline">¶</a></h2>
<p>EMIR Recipes based on Numina have a list of required parameters needed to properly configure the Recipe.
The Recipe announces the required parameters with the following syntax (the syntax is subject to changes).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomeRecipeInput</span><span class="p">(</span><span class="n">RecipeInput</span><span class="p">):</span>
    <span class="n">master_dark</span> <span class="o">=</span> <span class="n">DataProductParameter</span><span class="p">(</span><span class="n">MasterDark</span><span class="p">,</span> <span class="s1">&#39;Master dark image&#39;</span><span class="p">)</span>
    <span class="n">some_numeric_value</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mf">0.45</span><span class="p">,</span> <span class="s1">&#39;Some numeric value&#39;</span><span class="p">),</span>

<span class="nd">@define_input</span><span class="p">(</span><span class="n">SomeRecipeInput</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SomeRecipe</span><span class="p">(</span><span class="n">RecipeBase</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>When the reduction is run from the command line using Numina CLI, the program
checks that the required values are provided or have default values. When the
reduction is automatically executed using Pontifex, the program searches the
operation database looking for the most appropriated data products (in this
case, a MasterDark frame).</p>
<p>When the Recipe is properly configured, it is executed with an observing block
data structure as input. When run using Numina CLI, this data structure is
created from a text file. When run with Pontifex, the observing block data
structure is created from the contents of the database.</p>
</div>
<div class="section" id="recipe-products">
<h2>Recipe Products<a class="headerlink" href="#recipe-products" title="Permalink to this headline">¶</a></h2>
<p>Recipes based on Numina provide a list of products created by the recipe.
The Recipe announces the required parameters with the following syntax
(the syntax is subject to changes).</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SomeRecipeInput</span><span class="p">(</span><span class="n">RecipeInput</span><span class="p">):</span>
    <span class="n">master_dark</span> <span class="o">=</span> <span class="n">DataProductParameter</span><span class="p">(</span><span class="n">MasterDark</span><span class="p">,</span> <span class="s1">&#39;Master dark image&#39;</span><span class="p">)</span>
    <span class="n">some_numeric_value</span> <span class="o">=</span> <span class="n">Parameter</span><span class="p">(</span><span class="mf">0.45</span><span class="p">,</span> <span class="s1">&#39;Some numeric value&#39;</span><span class="p">),</span>

<span class="k">class</span> <span class="nc">SomeRecipeResult</span><span class="p">(</span><span class="n">RecipeResult</span><span class="p">):</span>
    <span class="n">master_flat</span> <span class="o">=</span> <span class="n">Product</span><span class="p">(</span><span class="n">MasterDark</span><span class="p">)</span>

<span class="nd">@define_input</span><span class="p">(</span><span class="n">SomeRecipeInput</span><span class="p">)</span>
<span class="nd">@define_result</span><span class="p">(</span><span class="n">SomeRecipeResult</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SomeRecipe</span><span class="p">(</span><span class="n">RecipeBase</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>In the following two sections, we list the Reduction Recipes for the DRP and
for the DFP. The format is: name of the Python class of the recipe, name of the
observing mode, required parameters and data products provided. From the fully
quallified name of the recipe we have removed the initial <code class="docutils literal"><span class="pre">emirdrp.recipes.</span></code>.</p>
<p>The name of the parameters are prefixed with <strong>Product</strong> if the parameter is
the result provided by another Recipe. If not, the value is a <strong>Parameter</strong>,
or an <strong>OptionalParameter</strong> that will be ignored if not present.</p>
<div class="section" id="dfp-recipes-parameters">
<h3>DFP Recipes Parameters<a class="headerlink" href="#dfp-recipes-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">focus.TelescopeRoughFocusRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">TS rough focus</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Parameter: objects</li>
<li>Parameter: focus_range</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">TelescopeFocus</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">focus.TelescopeFineFocusRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">TS fine focus</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Parameter: objects</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">TelescopeFocus</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">focus.DTUFocusRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">EMIR focus control</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Parameter: objects</li>
<li>Parameter: msm_pattern</li>
<li>Parameter: dtu_focus_range</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">DTUFocus</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">acquisition.MaskCheckRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Target acquisition</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">TelescopeOffset</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">acquisition.MaskImagingRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Mask image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">MSMPositions</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">acquisition.MaskCheckRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">MSM and LSM check</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">TelescopeOffset</span></code>, <code class="docutils literal"><span class="pre">MSMPositions</span></code></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="drp-recipes-parameters">
<h3>DRP Recipes Parameters<a class="headerlink" href="#drp-recipes-parameters" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">auxiliary.BiasRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Bias image</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">MasterBias</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">auxiliary.DarkRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Dark image</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body">Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">MasterDark</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">auxiliary.IntensityFlatRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Intensity flat-field</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">MasterIntensityFlat</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">auxiliary.SpectralFlatRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">MSM spectral flat-field</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">MasterSpectralFlat</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">auxiliary.SlitTransmissionRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Slit transmission calibration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">SlitTransmissionCalibration</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">auxiliary.WavelengthCalibrationRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Wavelength calibration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterSpectralFlatField</span></code></li>
<li>Parameter: line_table (with wavelengths of arc lines)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">image.StareImageRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Stare image</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>OptionalParameter: sources (list of sources coordinates)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Image</span></code>, <code class="docutils literal"><span class="pre">SourcesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">image.NBImageRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Nodded/Beamswitched images</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Parameter: extinction (Mean atmospheric extinction)</li>
<li>Parameter: iterations</li>
<li>Parameter: sky_images (Images used to estimate the background before and after current image)</li>
<li>Parameter: sky_images_sep_time (Maximum separation time between consecutive sky images in minutes)</li>
<li>Parameter: check_photometry_levels (Levels to check the flux of the objects)</li>
<li>Parameter: check_photometry_actions (Actions to take on images)</li>
<li>OptionalParameter: offsets (list of integer offsets between images)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Image</span></code>, <code class="docutils literal"><span class="pre">SourcesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">image.DitheredImageRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Dithered images</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Parameter: extinction (Mean atmospheric extinction)</li>
<li>Parameter: iterations</li>
<li>Parameter: sky_images (Images used to estimate the background before and after current image)</li>
<li>Parameter: sky_images_sep_time (Maximum separation time between consecutive sky images in minutes)</li>
<li>Parameter: check_photometry_levels (Levels to check the flux of the objects)</li>
<li>Parameter: check_photometry_actions (Actions to take on images)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Image</span></code>, <code class="docutils literal"><span class="pre">SourcesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">image.MicroditheredImageRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Micro-dithered images</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li><em>All the parameters of</em> <code class="docutils literal"><span class="pre">image.DitheredImageRecipe</span></code></li>
<li>Parameter: subpixelization (number of subdivisions in each pixel side)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Image</span></code>, <code class="docutils literal"><span class="pre">SourcesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">image.MosaicRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Mosaiced images</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">Image</span></code>, <code class="docutils literal"><span class="pre">SourcesCatalog</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">mos.StareSpectraRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Stare spectra</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterSpectralFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">SlitTransmissionCalibration</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></li>
<li>Parameter: lines (wavelength to measure)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Spectra</span></code>, <code class="docutils literal"><span class="pre">LinesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">mos.DNSpectraRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Dithered/Nodded spectra along the slit</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterSpectralFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">SlitTransmissionCalibration</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></li>
<li>Parameter: lines (wavelegnth to measure)</li>
<li>OptionalParameter: offsets (list of integer offsets between images)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Spectra</span></code>, <code class="docutils literal"><span class="pre">LinesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">mos.OffsetSpectraRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Offset spectra beyond the slit</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterSpectralFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">SlitTransmissionCalibration</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></li>
<li>Parameter: lines (wavelegnth to measure)</li>
<li>OptionalParameter: offsets (list of integer offsets between images)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">Spectra</span></code>, <code class="docutils literal"><span class="pre">LinesCatalog</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">mos.RasterSpectraRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">Raster spectra</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Product: <code class="docutils literal"><span class="pre">MasterBias</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterDark</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterBadPixelMask</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">NonLinearityCorrection</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterIntensityFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">MasterSpectralFlatField</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">SlitTransmissionCalibration</span></code></li>
<li>Product: <code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></li>
<li>Parameter: lines (wavelegnth to measure)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">DataCube</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">engineering.DTU_XY_CalibrationRecipe</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><p class="first">DTU X_Y calibration</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"><ul class="first simple">
<li>Parameter: slit_pattern</li>
<li>Parameter: dtu_range</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><p class="first last"><code class="docutils literal"><span class="pre">DTU_XY_Calibration</span></code></p>
</td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.DTU_Z_CalibrationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">DTU Z calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body">Parameter: dtu_range</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">DTU_Z_Calibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.DTUFlexureRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">DTU Flexure compensation</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">DTUFlexureCalibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.CSU2DetectorRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">CSU2Detector calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body">Parameter: dtu_range</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">DTU_XY_Calibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.FocalPlaneCalibrationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Lateral colour</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">PointingOriginCalibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.SpectralCharacterizationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Spectral characterization</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">WavelengthCalibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.RotationCenterRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Centre of rotation</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">PointingOriginCalibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.AstrometricCalibrationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Astrometric calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body"></td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">Image</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.PhotometricCalibrationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Photometric calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body">Parameter: phot</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">PhotometricCalibration</span></code></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">class:</th><td class="field-body"><code class="docutils literal"><span class="pre">engineering.SpectroPhotometricCalibrationRecipe</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body">Spectrophotometric calibration</td>
</tr>
<tr class="field-odd field"><th class="field-name">requires:</th><td class="field-body">Parameter: sphot</td>
</tr>
<tr class="field-even field"><th class="field-name">provides:</th><td class="field-body"><code class="docutils literal"><span class="pre">SpectroPhotometricCalibration</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">EMIR Reduction Recipes</a><ul>
<li><a class="reference internal" href="#execution-environment-of-the-recipes">Execution environment of the Recipes</a></li>
<li><a class="reference internal" href="#recipe-parameters">Recipe Parameters</a></li>
<li><a class="reference internal" href="#recipe-products">Recipe Products</a><ul>
<li><a class="reference internal" href="#dfp-recipes-parameters">DFP Recipes Parameters</a></li>
<li><a class="reference internal" href="#drp-recipes-parameters">DRP Recipes Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="running.html"
                        title="previous chapter">Running the pipeline</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="products.html"
                        title="next chapter">EMIR Data Products</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/user/recipes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="products.html" title="EMIR Data Products"
             >next</a> |</li>
        <li class="right" >
          <a href="running.html" title="Running the pipeline"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyEmir 0.9.dev1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >PyEmir User Guide</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2017, Sergio Pascual, Nicolás Cardiel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
  </body>
</html>