#!/usr/bin/env python
from __future__ import print_function
import pymongo
'''
Create the guest account.
'''
try:
    from tios import admin
except RuntimeError as e:
    print('Error: ', e.args[0])
    exit(1)

import argparse
import sys

if sys.version_info[0] == 2:
    input = raw_input

parser = argparse.ArgumentParser(description='Create the *tios* guest account')
parser.add_argument('--passwd', help='Password for guest account', default='guest123')
args = parser.parse_args()

#response = input("Guest account password:")
try:
    admin.add_guest(args.passwd)
except pymongo.errors.DuplicateKeyError:
    print('Error - the guest account already exists.')
