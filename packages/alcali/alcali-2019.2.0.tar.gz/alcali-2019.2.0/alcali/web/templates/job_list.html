{% extends 'base.html' %}
{% load static %}
{% load is_dict %}
{% block title %}JOBS{% endblock %}
{% block content %}
  <div class="block-header">
    <h2>JOBS</h2>
  </div>
  <div class="row clearfix">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <div class="card">
        <div class="header">
          <h2>
            SEARCH JOBS
          </h2>
        </div>
        <div class="body">
          <div class="row clearfix">
            <form method="post">
              {% csrf_token %}
              <div class="col-md-3">
                <div class="input-group">
                  <div class="form-group" style="margin-bottom: 0">
                    <div class="form-line" style="margin-bottom: 0">
                      <input title="date" name="date" class="flatpickr flatpickr-input form-control"
                             type="text" placeholder="Select Date(s).">
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <select class="form-control selectpicker show-tick" multiple title="Select User(s)." name="user">
                  {% for user in user_list %}
                    <option value="{{ user }}">{{ user }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-md-3">
                <select class="form-control selectpicker show-tick" multiple title="Select Target(s)." name="minion">
                  {% for minion in minion_list %}
                    <option value="{{ minion }}">{{ minion }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="col-md-2 col-sm-12">
                <select class="form-control selectpicker show-tick" title="Limit Results." name="limit">
                  <option value="50">50</option>
                  <option value="100" selected>100</option>
                  <option value="200">200</option>
                  <option value="500">500</option>
                  <option value="1000">1000</option>
                </select>
              </div>
              <div class="col-sm-1">
                <button type="button" class="btn btn-primary waves-effect" id="btnSubmit">SUBMIT</button>
              </div>
            </form>
          </div>
          <div class="table-responsive">
            <table class="table table-striped table-hover dataTable js-exportable" style="width:100%">
              <thead>
              <tr>
                <th>ID</th>
                <th>Target</th>
                <th>Function</th>
                <th>Arguments</th>
                <th>User</th>
                <th>Status</th>
                <th>Start Time</th>
                <th>Actions</th>
              </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- #END# Exportable Table -->
{% endblock %}
{% block js %}
  <script src="{% static "js/src/job_list.js" %}"></script>
{% endblock %}