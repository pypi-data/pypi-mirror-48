!function(t){var i="/api/mkwvconf",e=t("#wvdial-modal"),l=t("#wvdial-country"),v=t("#wvdial-provider"),c=t("#wvdial-apn"),p=t("#generate-wvdial-config");function o(){var n=l.val(),a=v.val(),o=c.val(),i=!n,t=!n||!a,e=!n||!a||!o;v.prop("disabled",i),c.prop("disabled",t),p.prop("disabled",e),i&&v.empty(),t&&c.empty()}function d(a,n){var o,i;t("<option/>").text("").appendTo(a),n.forEach(function(n){t("<option/>").text(n).appendTo(a)}),0<(i=(o=a).find("option")).length&&""===i[0].value&&2===i.length&&o.val(i[1].value).trigger("change")}e.on("show.bs.modal",function(){t.getJSON(i+"/",function(n){d(l,n.countries)}),o()}),l.on("change",function(){var n=l.val();n&&(v.empty(),c.empty(),t.getJSON(i+"/"+n,function(n){d(v,n.providers)})),o()}),v.on("change",function(){var n=v.val(),a=l.val();a&&n&&(c.empty(),t.getJSON(i+"/"+a+"/"+n,function(n){d(c,n.apns)})),o()}),c.on("change",function(){o()}),p.on("click",function(){var n=l.val(),a=v.val(),o=c.val();n&&a&&o&&t.getJSON(i+"/"+n+"/"+a+"/"+o,function(n){t("#wvdial").val(n.config),t("#sim_type").val("wvdial"),e.modal("hide")})})}(window.jQuery);